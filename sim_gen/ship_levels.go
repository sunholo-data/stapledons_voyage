// Code generated by ailang. DO NOT EDIT.
package sim_gen

func makeDeckInfo_impl(n interface{}, desc interface{}, color interface{}, y interface{}) interface{} {
	return &DeckInfo{Name: n.(string), Description: desc.(string), ColorScheme: color.(int64), YOffset: y.(float64)}
}

func makeDeckInfo(n string, desc string, color int64, y float64) *DeckInfo {
	return makeDeckInfo_impl(n, desc, color, y).(*DeckInfo)
}

func makeShipLevels_impl(deck interface{}, trans interface{}, glow interface{}) interface{} {
	return &ShipLevels{CurrentDeck: deck.(*DeckType), TransitionState: trans.(*TransitionState), SpireGlow: glow.(float64)}
}

func makeShipLevels(deck *DeckType, trans *TransitionState, glow float64) *ShipLevels {
	return makeShipLevels_impl(deck, trans, glow).(*ShipLevels)
}

func deckIndex_impl(deck interface{}) interface{} {
	return func() interface{} {
		_scrutinee := deck
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*DeckType)
		switch _adt.Kind {
		case DeckTypeKindDeckCore:
			return int64(0)
		case DeckTypeKindDeckEngineering:
			return int64(1)
		case DeckTypeKindDeckCulture:
			return int64(2)
		case DeckTypeKindDeckHabitat:
			return int64(3)
		case DeckTypeKindDeckBridge:
			return int64(4)
		default:
			panic("non-exhaustive match")
		}
	}()
}

func DeckIndex(deck *DeckType) int64 {
	return deckIndex_impl(deck).(int64)
}

func deckInfoCore_impl(_unused0 interface{}) interface{} {
	return makeDeckInfo_impl("Core", "Antimatter containment and critical systems", int64(4280352255), float64(0))
}

func deckInfoCore() *DeckInfo {
	return deckInfoCore_impl(struct{}{}).(*DeckInfo)
}

func deckInfoEngineering_impl(_unused0 interface{}) interface{} {
	return makeDeckInfo_impl("Engineering", "Propulsion and power management", int64(4287137535), float64(200))
}

func deckInfoEngineering() *DeckInfo {
	return deckInfoEngineering_impl(struct{}{}).(*DeckInfo)
}

func deckInfoCulture_impl(_unused0 interface{}) interface{} {
	return makeDeckInfo_impl("Culture", "Recreation and social spaces", int64(872349695), float64(400))
}

func deckInfoCulture() *DeckInfo {
	return deckInfoCulture_impl(struct{}{}).(*DeckInfo)
}

func deckInfoHabitat_impl(_unused0 interface{}) interface{} {
	return makeDeckInfo_impl("Habitat", "Crew quarters and life support", int64(864026623), float64(600))
}

func deckInfoHabitat() *DeckInfo {
	return deckInfoHabitat_impl(struct{}{}).(*DeckInfo)
}

func deckInfoBridge_impl(_unused0 interface{}) interface{} {
	return makeDeckInfo_impl("Bridge", "Command center and navigation", int64(2285789439), float64(800))
}

func deckInfoBridge() *DeckInfo {
	return deckInfoBridge_impl(struct{}{}).(*DeckInfo)
}

func getDeckInfo_impl(deck interface{}) interface{} {
	return func() interface{} {
		_scrutinee := deck
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*DeckType)
		switch _adt.Kind {
		case DeckTypeKindDeckCore:
			return deckInfoCore_impl(struct{}{})
		case DeckTypeKindDeckEngineering:
			return deckInfoEngineering_impl(struct{}{})
		case DeckTypeKindDeckCulture:
			return deckInfoCulture_impl(struct{}{})
		case DeckTypeKindDeckHabitat:
			return deckInfoHabitat_impl(struct{}{})
		case DeckTypeKindDeckBridge:
			return deckInfoBridge_impl(struct{}{})
		default:
			panic("non-exhaustive match")
		}
	}()
}

func GetDeckInfo(deck *DeckType) *DeckInfo {
	return getDeckInfo_impl(deck).(*DeckInfo)
}

func deckAbove_impl(deck interface{}) interface{} {
	return func() interface{} {
		_scrutinee := deck
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*DeckType)
		switch _adt.Kind {
		case DeckTypeKindDeckCore:
			return NewDeckTypeDeckEngineering()
		case DeckTypeKindDeckEngineering:
			return NewDeckTypeDeckCulture()
		case DeckTypeKindDeckCulture:
			return NewDeckTypeDeckHabitat()
		case DeckTypeKindDeckHabitat:
			return NewDeckTypeDeckBridge()
		case DeckTypeKindDeckBridge:
			return NewDeckTypeDeckBridge()
		default:
			panic("non-exhaustive match")
		}
	}()
}

func DeckAbove(deck *DeckType) *DeckType {
	return deckAbove_impl(deck).(*DeckType)
}

func deckBelow_impl(deck interface{}) interface{} {
	return func() interface{} {
		_scrutinee := deck
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*DeckType)
		switch _adt.Kind {
		case DeckTypeKindDeckCore:
			return NewDeckTypeDeckCore()
		case DeckTypeKindDeckEngineering:
			return NewDeckTypeDeckCore()
		case DeckTypeKindDeckCulture:
			return NewDeckTypeDeckEngineering()
		case DeckTypeKindDeckHabitat:
			return NewDeckTypeDeckCulture()
		case DeckTypeKindDeckBridge:
			return NewDeckTypeDeckHabitat()
		default:
			panic("non-exhaustive match")
		}
	}()
}

func DeckBelow(deck *DeckType) *DeckType {
	return deckBelow_impl(deck).(*DeckType)
}

func isTopDeck_impl(deck interface{}) interface{} {
	return func() interface{} {
		_scrutinee := deck
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*DeckType)
		switch _adt.Kind {
		case DeckTypeKindDeckBridge:
			return true
		default:
			return false
		}
	}()
}

func IsTopDeck(deck *DeckType) bool {
	return isTopDeck_impl(deck).(bool)
}

func isBottomDeck_impl(deck interface{}) interface{} {
	return func() interface{} {
		_scrutinee := deck
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*DeckType)
		switch _adt.Kind {
		case DeckTypeKindDeckCore:
			return true
		default:
			return false
		}
	}()
}

func IsBottomDeck(deck *DeckType) bool {
	return isBottomDeck_impl(deck).(bool)
}

func initShipLevels_impl(_unused0 interface{}) interface{} {
	return makeShipLevels_impl(NewDeckTypeDeckBridge(), NewTransitionStateTransitionIdle(), float64(0.5))
}

func InitShipLevels() *ShipLevels {
	return initShipLevels_impl(struct{}{}).(*ShipLevels)
}

func beginTransition_impl(levels interface{}, target interface{}) interface{} {
	var tmp1 interface{} = FieldGet(levels, "currentDeck")
	var tmp2 interface{} = FieldGet(levels, "currentDeck")
	var tmp3 interface{} = NewTransitionStateTransitioning(tmp2.(*DeckType), target.(*DeckType), float64(0))
	var tmp4 interface{} = FieldGet(levels, "spireGlow")
	return makeShipLevels_impl(tmp1, tmp3, tmp4)
}

func beginTransition(levels *ShipLevels, target *DeckType) *ShipLevels {
	return beginTransition_impl(levels, target).(*ShipLevels)
}

func startDeckTransition_impl(levels interface{}, target interface{}) interface{} {
	var tmp5 interface{} = FieldGet(levels, "transitionState")
	return func() interface{} {
		_scrutinee := tmp5
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*TransitionState)
		switch _adt.Kind {
		case TransitionStateKindTransitionIdle:
			return beginTransition_impl(levels, target)
		case TransitionStateKindTransitioning:
			return levels
		default:
			panic("non-exhaustive match")
		}
	}()
}

func StartDeckTransition(levels *ShipLevels, target *DeckType) *ShipLevels {
	return startDeckTransition_impl(levels, target).(*ShipLevels)
}

func finishTransition_impl(levels interface{}, newDeck interface{}) interface{} {
	var tmp6 interface{} = FieldGet(levels, "spireGlow")
	return makeShipLevels_impl(newDeck, NewTransitionStateTransitionIdle(), tmp6)
}

func finishTransition(levels *ShipLevels, newDeck *DeckType) *ShipLevels {
	return finishTransition_impl(levels, newDeck).(*ShipLevels)
}

func continueTransition_impl(levels interface{}, from interface{}, to interface{}, newProgress interface{}) interface{} {
	var tmp7 interface{} = FieldGet(levels, "currentDeck")
	var tmp8 interface{} = NewTransitionStateTransitioning(from.(*DeckType), to.(*DeckType), newProgress.(float64))
	var tmp9 interface{} = FieldGet(levels, "spireGlow")
	return makeShipLevels_impl(tmp7, tmp8, tmp9)
}

func continueTransition(levels *ShipLevels, from *DeckType, to *DeckType, newProgress float64) *ShipLevels {
	return continueTransition_impl(levels, from, to, newProgress).(*ShipLevels)
}

func updateTransition_impl(levels interface{}, dt interface{}) interface{} {
	var tmp10 interface{} = FieldGet(levels, "transitionState")
	return func() interface{} {
		_scrutinee := tmp10
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*TransitionState)
		switch _adt.Kind {
		case TransitionStateKindTransitionIdle:
			return levels
		case TransitionStateKindTransitioning:
			from := _adt.Transitioning.Value0
			_ = from // suppress unused
			to := _adt.Transitioning.Value1
			_ = to // suppress unused
			progress := _adt.Transitioning.Value2
			_ = progress // suppress unused
			return func() interface{} {
				var tmp11 interface{} = MulFloat(dt, float64(2))
				_ = tmp11 // suppress unused
				var newProgress interface{} = AddFloat(progress, tmp11)
				_ = newProgress // suppress unused
				var tmp12 interface{} = GeFloat(newProgress, float64(1))
				_ = tmp12 // suppress unused
				return func() interface{} {
					if tmp12.(bool) {
						return finishTransition_impl(levels, to)
					}
					return continueTransition_impl(levels, from, to, newProgress)
				}()
			}()
		default:
			panic("non-exhaustive match")
		}
	}()
}

func UpdateTransition(levels *ShipLevels, dt float64) *ShipLevels {
	return updateTransition_impl(levels, dt).(*ShipLevels)
}

func getTransitionProgress_impl(levels interface{}) interface{} {
	var tmp13 interface{} = FieldGet(levels, "transitionState")
	return func() interface{} {
		_scrutinee := tmp13
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*TransitionState)
		switch _adt.Kind {
		case TransitionStateKindTransitionIdle:
			return float64(0)
		case TransitionStateKindTransitioning:
			progress := _adt.Transitioning.Value2
			_ = progress // suppress unused
			return progress
		default:
			panic("non-exhaustive match")
		}
	}()
}

func GetTransitionProgress(levels *ShipLevels) float64 {
	return getTransitionProgress_impl(levels).(float64)
}

func isTransitioning_impl(levels interface{}) interface{} {
	var tmp14 interface{} = FieldGet(levels, "transitionState")
	return func() interface{} {
		_scrutinee := tmp14
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*TransitionState)
		switch _adt.Kind {
		case TransitionStateKindTransitionIdle:
			return false
		case TransitionStateKindTransitioning:
			return true
		default:
			panic("non-exhaustive match")
		}
	}()
}

func IsTransitioning(levels *ShipLevels) bool {
	return isTransitioning_impl(levels).(bool)
}
