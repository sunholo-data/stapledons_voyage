// Code generated by ailang. DO NOT EDIT.
package sim_gen

func tileFloor_impl(_unused0 interface{}) interface{} {
	return int64(1000)
}

func TileFloor() int64 {
	return tileFloor_impl(struct{}{}).(int64)
}

func tileFloorGlow_impl(_unused0 interface{}) interface{} {
	return int64(1001)
}

func TileFloorGlow() int64 {
	return tileFloorGlow_impl(struct{}{}).(int64)
}

func tileConsoleBase_impl(_unused0 interface{}) interface{} {
	return int64(1002)
}

func TileConsoleBase() int64 {
	return tileConsoleBase_impl(struct{}{}).(int64)
}

func tileWalkway_impl(_unused0 interface{}) interface{} {
	return int64(1003)
}

func TileWalkway() int64 {
	return tileWalkway_impl(struct{}{}).(int64)
}

func tileDomeEdge_impl(_unused0 interface{}) interface{} {
	return int64(1004)
}

func TileDomeEdge() int64 {
	return tileDomeEdge_impl(struct{}{}).(int64)
}

func tileWall_impl(_unused0 interface{}) interface{} {
	return int64(1005)
}

func TileWall() int64 {
	return tileWall_impl(struct{}{}).(int64)
}

func tileHatch_impl(_unused0 interface{}) interface{} {
	return int64(1006)
}

func TileHatch() int64 {
	return tileHatch_impl(struct{}{}).(int64)
}

func tileCaptainArea_impl(_unused0 interface{}) interface{} {
	return int64(1007)
}

func TileCaptainArea() int64 {
	return tileCaptainArea_impl(struct{}{}).(int64)
}

func spriteConsoleHelm_impl(_unused0 interface{}) interface{} {
	return int64(1100)
}

func SpriteConsoleHelm() int64 {
	return spriteConsoleHelm_impl(struct{}{}).(int64)
}

func spriteConsoleComms_impl(_unused0 interface{}) interface{} {
	return int64(1101)
}

func SpriteConsoleComms() int64 {
	return spriteConsoleComms_impl(struct{}{}).(int64)
}

func spriteConsoleStatus_impl(_unused0 interface{}) interface{} {
	return int64(1102)
}

func SpriteConsoleStatus() int64 {
	return spriteConsoleStatus_impl(struct{}{}).(int64)
}

func spriteConsoleNav_impl(_unused0 interface{}) interface{} {
	return int64(1103)
}

func SpriteConsoleNav() int64 {
	return spriteConsoleNav_impl(struct{}{}).(int64)
}

func spriteConsoleScience_impl(_unused0 interface{}) interface{} {
	return int64(1104)
}

func SpriteConsoleScience() int64 {
	return spriteConsoleScience_impl(struct{}{}).(int64)
}

func spriteConsoleCaptain_impl(_unused0 interface{}) interface{} {
	return int64(1105)
}

func SpriteConsoleCaptain() int64 {
	return spriteConsoleCaptain_impl(struct{}{}).(int64)
}

func spriteCrewPilot_impl(_unused0 interface{}) interface{} {
	return int64(1200)
}

func SpriteCrewPilot() int64 {
	return spriteCrewPilot_impl(struct{}{}).(int64)
}

func spriteCrewComms_impl(_unused0 interface{}) interface{} {
	return int64(1201)
}

func SpriteCrewComms() int64 {
	return spriteCrewComms_impl(struct{}{}).(int64)
}

func spriteCrewEngineer_impl(_unused0 interface{}) interface{} {
	return int64(1202)
}

func SpriteCrewEngineer() int64 {
	return spriteCrewEngineer_impl(struct{}{}).(int64)
}

func spriteCrewScientist_impl(_unused0 interface{}) interface{} {
	return int64(1203)
}

func SpriteCrewScientist() int64 {
	return spriteCrewScientist_impl(struct{}{}).(int64)
}

func spriteCrewCaptain_impl(_unused0 interface{}) interface{} {
	return int64(1204)
}

func SpriteCrewCaptain() int64 {
	return spriteCrewCaptain_impl(struct{}{}).(int64)
}

func spritePlayer_impl(_unused0 interface{}) interface{} {
	return int64(1205)
}

func SpritePlayer() int64 {
	return spritePlayer_impl(struct{}{}).(int64)
}

func makeCoord_impl(x interface{}, y interface{}) interface{} {
	return &Coord{X: x.(int64), Y: y.(int64)}
}

func makeCoord(x int64, y int64) *Coord {
	return makeCoord_impl(x, y).(*Coord)
}

func distSq_impl(x interface{}, y interface{}, cx interface{}, cy interface{}) interface{} {
	var dx interface{} = SubInt(x, cx)
	_ = dx // suppress unused
	var dy interface{} = SubInt(y, cy)
	_ = dy // suppress unused
	var tmp1 interface{} = MulInt(dx, dx)
	_ = tmp1 // suppress unused
	var tmp2 interface{} = MulInt(dy, dy)
	_ = tmp2 // suppress unused
	return AddInt(tmp1, tmp2)
}

func distSq(x int64, y int64, cx int64, cy int64) int64 {
	return distSq_impl(x, y, cx, cy).(int64)
}

func isOnDisc_impl(x interface{}, y interface{}, cx interface{}, cy interface{}, radius interface{}) interface{} {
	var tmp3 interface{} = distSq_impl(x, y, cx, cy)
	_ = tmp3 // suppress unused
	var tmp4 interface{} = MulInt(radius, radius)
	_ = tmp4 // suppress unused
	return LeInt(tmp3, tmp4)
}

func IsOnDisc(x int64, y int64, cx int64, cy int64, radius int64) bool {
	return isOnDisc_impl(x, y, cx, cy, radius).(bool)
}

func isWalkable_impl(state interface{}, x interface{}, y interface{}) interface{} {
	var dSq interface{} = func() interface{} {
		var tmp7 interface{} = FieldGet(state, "discCenterX")
		_ = tmp7 // suppress unused
		return func() interface{} {
			var tmp8 interface{} = FieldGet(state, "discCenterY")
			_ = tmp8 // suppress unused
			return distSq_impl(x, y, tmp7, tmp8)
		}()
	}()
	_ = dSq // suppress unused
	var radiusSq interface{} = func() interface{} {
		var tmp5 interface{} = FieldGet(state, "discRadius")
		_ = tmp5 // suppress unused
		return func() interface{} {
			var tmp6 interface{} = FieldGet(state, "discRadius")
			_ = tmp6 // suppress unused
			return MulInt(tmp5, tmp6)
		}()
	}()
	_ = radiusSq // suppress unused
	return LtInt(dSq, radiusSq)
}

func IsWalkable(state *BridgeState, x int64, y int64) bool {
	return isWalkable_impl(state, x, y).(bool)
}

func getTileType_impl(x interface{}, y interface{}, cx interface{}, cy interface{}, radius interface{}) interface{} {
	var dSq interface{} = distSq_impl(x, y, cx, cy)
	_ = dSq // suppress unused
	var radiusSq interface{} = MulInt(radius, radius)
	_ = radiusSq // suppress unused
	var edgeSq interface{} = func() interface{} {
		var tmp16 interface{} = SubInt(radius, int64(1))
		_ = tmp16 // suppress unused
		return func() interface{} {
			var tmp17 interface{} = SubInt(radius, int64(1))
			_ = tmp17 // suppress unused
			return MulInt(tmp16, tmp17)
		}()
	}()
	_ = edgeSq // suppress unused
	var tmp9 interface{} = GeInt(dSq, radiusSq)
	_ = tmp9 // suppress unused
	return func() interface{} {
		var tmp10 interface{} = GeInt(dSq, edgeSq)
		_ = tmp10 // suppress unused
		var tmp11 interface{} = LeInt(dSq, int64(9))
		_ = tmp11 // suppress unused
		var tmp12 interface{} = LeInt(dSq, int64(36))
		_ = tmp12 // suppress unused
		var tmp13 interface{} = AddInt(x, y)
		_ = tmp13 // suppress unused
		var tmp14 interface{} = ModInt(tmp13, int64(8))
		_ = tmp14 // suppress unused
		var tmp15 interface{} = EqInt(tmp14, int64(0))
		_ = tmp15 // suppress unused
		if tmp9.(bool) {
			return tileWall_impl(struct{}{})
		}
		if tmp10.(bool) {
			return tileDomeEdge_impl(struct{}{})
		}
		if tmp11.(bool) {
			return tileCaptainArea_impl(struct{}{})
		}
		if tmp12.(bool) {
			return tileFloorGlow_impl(struct{}{})
		}
		if tmp15.(bool) {
			return tileWalkway_impl(struct{}{})
		}
		return tileFloor_impl(struct{}{})
	}()
}

func GetTileType(x int64, y int64, cx int64, cy int64, radius int64) int64 {
	return getTileType_impl(x, y, cx, cy, radius).(int64)
}

func viewportSize_impl(_unused0 interface{}) interface{} {
	return int64(10)
}

func ViewportSize() int64 {
	return viewportSize_impl(struct{}{}).(int64)
}

func stationSprite_impl(station interface{}) interface{} {
	return func() interface{} {
		_scrutinee := station
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*BridgeStation)
		switch _adt.Kind {
		case BridgeStationKindStationHelm:
			return spriteConsoleHelm_impl(struct{}{})
		case BridgeStationKindStationComms:
			return spriteConsoleComms_impl(struct{}{})
		case BridgeStationKindStationStatus:
			return spriteConsoleStatus_impl(struct{}{})
		case BridgeStationKindStationNav:
			return spriteConsoleNav_impl(struct{}{})
		case BridgeStationKindStationScience:
			return spriteConsoleScience_impl(struct{}{})
		case BridgeStationKindStationCaptain:
			return spriteConsoleCaptain_impl(struct{}{})
		case BridgeStationKindStationNone:
			return int64(0)
		default:
			panic("non-exhaustive match")
		}
	}()
}

func StationSprite(station *BridgeStation) int64 {
	return stationSprite_impl(station).(int64)
}

func crewSprite_impl(station interface{}) interface{} {
	return func() interface{} {
		_scrutinee := station
		_ = _scrutinee // suppress unused
		_adt := _scrutinee.(*BridgeStation)
		switch _adt.Kind {
		case BridgeStationKindStationHelm:
			return spriteCrewPilot_impl(struct{}{})
		case BridgeStationKindStationComms:
			return spriteCrewComms_impl(struct{}{})
		case BridgeStationKindStationStatus:
			return spriteCrewEngineer_impl(struct{}{})
		case BridgeStationKindStationScience:
			return spriteCrewScientist_impl(struct{}{})
		case BridgeStationKindStationCaptain:
			return spriteCrewCaptain_impl(struct{}{})
		case BridgeStationKindStationNav:
			return spriteCrewEngineer_impl(struct{}{})
		case BridgeStationKindStationNone:
			return spriteCrewPilot_impl(struct{}{})
		default:
			panic("non-exhaustive match")
		}
	}()
}

func CrewSprite(station *BridgeStation) int64 {
	return crewSprite_impl(station).(int64)
}

func moveInDirection_impl(pos interface{}, dir interface{}) interface{} {
	var px interface{} = FieldGet(pos, "x")
	_ = px // suppress unused
	var py interface{} = FieldGet(pos, "y")
	_ = py // suppress unused
	return func() interface{} {
		_scrutinee := dir
		_ = _scrutinee // suppress unused
		switch _scrutinee {
		default:
			return func() interface{} {
				var tmp18 interface{} = SubInt(py, int64(1))
				_ = tmp18 // suppress unused
				return makeCoord_impl(px, tmp18)
			}()
		}
	}()
}

func MoveInDirection(pos *Coord, dir *Direction) *Coord {
	return moveInDirection_impl(pos, dir).(*Coord)
}

func discRadiusDefault_impl(_unused0 interface{}) interface{} {
	return int64(24)
}

func DiscRadiusDefault() int64 {
	return discRadiusDefault_impl(struct{}{}).(int64)
}

func discCenterDefault_impl(_unused0 interface{}) interface{} {
	return int64(24)
}

func DiscCenterDefault() int64 {
	return discCenterDefault_impl(struct{}{}).(int64)
}

func createConsoles_impl(_unused0 interface{}) interface{} {
	var cx interface{} = discCenterDefault_impl(struct{}{})
	_ = cx // suppress unused
	var cy interface{} = discCenterDefault_impl(struct{}{})
	_ = cy // suppress unused
	var tmp22 interface{} = SubInt(cy, int64(10))
	_ = tmp22 // suppress unused
	var tmp23 interface{} = makeCoord_impl(cx, tmp22)
	_ = tmp23 // suppress unused
	var tmp24 interface{} = spriteConsoleHelm_impl(struct{}{})
	_ = tmp24 // suppress unused
	var tmp25 interface{} = &ConsoleState{Station: NewBridgeStationStationHelm(), Pos: tmp23.(*Coord), Active: bool(true), HasAlert: bool(false), SpriteId: tmp24.(int64)}
	_ = tmp25 // suppress unused
	var tmp26 interface{} = SubInt(cx, int64(8))
	_ = tmp26 // suppress unused
	var tmp27 interface{} = SubInt(cy, int64(8))
	_ = tmp27 // suppress unused
	var tmp28 interface{} = makeCoord_impl(tmp26, tmp27)
	_ = tmp28 // suppress unused
	var tmp29 interface{} = spriteConsoleComms_impl(struct{}{})
	_ = tmp29 // suppress unused
	var tmp30 interface{} = &ConsoleState{Station: NewBridgeStationStationComms(), Pos: tmp28.(*Coord), Active: bool(true), HasAlert: bool(false), SpriteId: tmp29.(int64)}
	_ = tmp30 // suppress unused
	var tmp31 interface{} = AddInt(cx, int64(8))
	_ = tmp31 // suppress unused
	var tmp32 interface{} = SubInt(cy, int64(8))
	_ = tmp32 // suppress unused
	var tmp33 interface{} = makeCoord_impl(tmp31, tmp32)
	_ = tmp33 // suppress unused
	var tmp34 interface{} = spriteConsoleStatus_impl(struct{}{})
	_ = tmp34 // suppress unused
	var tmp35 interface{} = &ConsoleState{Station: NewBridgeStationStationStatus(), Pos: tmp33.(*Coord), Active: bool(true), HasAlert: bool(false), SpriteId: tmp34.(int64)}
	_ = tmp35 // suppress unused
	var tmp36 interface{} = makeCoord_impl(cx, cy)
	_ = tmp36 // suppress unused
	var tmp37 interface{} = spriteConsoleCaptain_impl(struct{}{})
	_ = tmp37 // suppress unused
	var tmp38 interface{} = &ConsoleState{Station: NewBridgeStationStationCaptain(), Pos: tmp36.(*Coord), Active: bool(true), HasAlert: bool(false), SpriteId: tmp37.(int64)}
	_ = tmp38 // suppress unused
	var tmp39 interface{} = SubInt(cx, int64(12))
	_ = tmp39 // suppress unused
	var tmp40 interface{} = makeCoord_impl(tmp39, cy)
	_ = tmp40 // suppress unused
	var tmp41 interface{} = spriteConsoleNav_impl(struct{}{})
	_ = tmp41 // suppress unused
	var tmp42 interface{} = &ConsoleState{Station: NewBridgeStationStationNav(), Pos: tmp40.(*Coord), Active: bool(true), HasAlert: bool(false), SpriteId: tmp41.(int64)}
	_ = tmp42 // suppress unused
	var tmp43 interface{} = AddInt(cx, int64(12))
	_ = tmp43 // suppress unused
	var tmp44 interface{} = makeCoord_impl(tmp43, cy)
	_ = tmp44 // suppress unused
	var tmp45 interface{} = spriteConsoleScience_impl(struct{}{})
	_ = tmp45 // suppress unused
	var tmp46 interface{} = &ConsoleState{Station: NewBridgeStationStationScience(), Pos: tmp44.(*Coord), Active: bool(true), HasAlert: bool(false), SpriteId: tmp45.(int64)}
	_ = tmp46 // suppress unused
	return []interface{}{tmp25, tmp30, tmp35, tmp38, tmp42, tmp46}
}

func CreateConsoles() []*ConsoleState {
	return ConvertToConsoleStateSlice(createConsoles_impl(struct{}{}))
}

func createDefaultCrew_impl(_unused0 interface{}) interface{} {
	var cx interface{} = discCenterDefault_impl(struct{}{})
	_ = cx // suppress unused
	var cy interface{} = discCenterDefault_impl(struct{}{})
	_ = cy // suppress unused
	var tmp47 interface{} = &CrewID{Id: int64(int64(1)), Name: string("Pilot Chen")}
	_ = tmp47 // suppress unused
	var tmp48 interface{} = SubInt(cy, int64(9))
	_ = tmp48 // suppress unused
	var tmp49 interface{} = makeCoord_impl(cx, tmp48)
	_ = tmp49 // suppress unused
	var tmp50 interface{} = &CrewPosition{Crew: tmp47.(*CrewID), Station: NewBridgeStationStationHelm(), Pos: tmp49.(*Coord), Facing: NewDirectionNorth(), Activity: NewCrewActivityActivityWorking()}
	_ = tmp50 // suppress unused
	var tmp51 interface{} = &CrewID{Id: int64(int64(2)), Name: string("Comms Officer Patel")}
	_ = tmp51 // suppress unused
	var tmp52 interface{} = SubInt(cx, int64(8))
	_ = tmp52 // suppress unused
	var tmp53 interface{} = SubInt(cy, int64(7))
	_ = tmp53 // suppress unused
	var tmp54 interface{} = makeCoord_impl(tmp52, tmp53)
	_ = tmp54 // suppress unused
	var tmp55 interface{} = &CrewPosition{Crew: tmp51.(*CrewID), Station: NewBridgeStationStationComms(), Pos: tmp54.(*Coord), Facing: NewDirectionNorth(), Activity: NewCrewActivityActivityWorking()}
	_ = tmp55 // suppress unused
	var tmp56 interface{} = &CrewID{Id: int64(int64(3)), Name: string("Engineer Torres")}
	_ = tmp56 // suppress unused
	var tmp57 interface{} = AddInt(cx, int64(8))
	_ = tmp57 // suppress unused
	var tmp58 interface{} = SubInt(cy, int64(7))
	_ = tmp58 // suppress unused
	var tmp59 interface{} = makeCoord_impl(tmp57, tmp58)
	_ = tmp59 // suppress unused
	var tmp60 interface{} = &CrewPosition{Crew: tmp56.(*CrewID), Station: NewBridgeStationStationStatus(), Pos: tmp59.(*Coord), Facing: NewDirectionNorth(), Activity: NewCrewActivityActivityWorking()}
	_ = tmp60 // suppress unused
	var tmp61 interface{} = &CrewID{Id: int64(int64(4)), Name: string("Navigator Kim")}
	_ = tmp61 // suppress unused
	var tmp62 interface{} = SubInt(cx, int64(11))
	_ = tmp62 // suppress unused
	var tmp63 interface{} = makeCoord_impl(tmp62, cy)
	_ = tmp63 // suppress unused
	var tmp64 interface{} = &CrewPosition{Crew: tmp61.(*CrewID), Station: NewBridgeStationStationNav(), Pos: tmp63.(*Coord), Facing: NewDirectionEast(), Activity: NewCrewActivityActivityWorking()}
	_ = tmp64 // suppress unused
	var tmp65 interface{} = &CrewID{Id: int64(int64(5)), Name: string("Science Officer Okafor")}
	_ = tmp65 // suppress unused
	var tmp66 interface{} = AddInt(cx, int64(11))
	_ = tmp66 // suppress unused
	var tmp67 interface{} = makeCoord_impl(tmp66, cy)
	_ = tmp67 // suppress unused
	var tmp68 interface{} = &CrewPosition{Crew: tmp65.(*CrewID), Station: NewBridgeStationStationScience(), Pos: tmp67.(*Coord), Facing: NewDirectionWest(), Activity: NewCrewActivityActivityWorking()}
	_ = tmp68 // suppress unused
	var tmp69 interface{} = &CrewID{Id: int64(int64(6)), Name: string("Captain Reyes")}
	_ = tmp69 // suppress unused
	var tmp70 interface{} = AddInt(cy, int64(1))
	_ = tmp70 // suppress unused
	var tmp71 interface{} = makeCoord_impl(cx, tmp70)
	_ = tmp71 // suppress unused
	var tmp72 interface{} = &CrewPosition{Crew: tmp69.(*CrewID), Station: NewBridgeStationStationCaptain(), Pos: tmp71.(*Coord), Facing: NewDirectionNorth(), Activity: NewCrewActivityActivityIdle()}
	_ = tmp72 // suppress unused
	return []interface{}{tmp50, tmp55, tmp60, tmp64, tmp68, tmp72}
}

func CreateDefaultCrew() []*CrewPosition {
	return ConvertToCrewPositionSlice(createDefaultCrew_impl(struct{}{}))
}

func initBridge_impl(_unused0 interface{}) interface{} {
	var cx interface{} = discCenterDefault_impl(struct{}{})
	_ = cx // suppress unused
	var cy interface{} = discCenterDefault_impl(struct{}{})
	_ = cy // suppress unused
	var radius interface{} = discRadiusDefault_impl(struct{}{})
	_ = radius // suppress unused
	var tmp73 interface{} = AddInt(cy, int64(16))
	_ = tmp73 // suppress unused
	var tmp74 interface{} = makeCoord_impl(cx, tmp73)
	_ = tmp74 // suppress unused
	var tmp75 interface{} = AddInt(cy, int64(16))
	_ = tmp75 // suppress unused
	var tmp76 interface{} = createDefaultCrew_impl(struct{}{})
	_ = tmp76 // suppress unused
	var tmp77 interface{} = createConsoles_impl(struct{}{})
	_ = tmp77 // suppress unused
	var tmp78 interface{} = &DomeViewState{TargetPlanetId: int64(int64(0)), ShipVelocity: float64(float64(0)), ViewAngle: float64(float64(0))}
	_ = tmp78 // suppress unused
	return &BridgeState{PlayerPos: tmp74.(*Coord), PlayerFacing: NewDirectionNorth(), MoveState: NewMoveStateMoveIdle(), CameraX: cx.(int64), CameraY: tmp75.(int64), CrewPositions: ConvertToCrewPositionSlice(tmp76), Consoles: ConvertToConsoleStateSlice(tmp77), HoveredInteractable: NewOptionNone(), SelectedInteractable: NewOptionNone(), DomeView: tmp78.(*DomeViewState), DiscRadius: radius.(int64), DiscCenterX: cx.(int64), DiscCenterY: cy.(int64)}
}

func InitBridge() *BridgeState {
	return initBridge_impl(struct{}{}).(*BridgeState)
}

func layerFloor_impl(_unused0 interface{}) interface{} {
	return int64(0)
}

func layerFloor() int64 {
	return layerFloor_impl(struct{}{}).(int64)
}

func layerConsoles_impl(_unused0 interface{}) interface{} {
	return int64(1)
}

func layerConsoles() int64 {
	return layerConsoles_impl(struct{}{}).(int64)
}

func layerCrew_impl(_unused0 interface{}) interface{} {
	return int64(2)
}

func layerCrew() int64 {
	return layerCrew_impl(struct{}{}).(int64)
}

func layerPlayer_impl(_unused0 interface{}) interface{} {
	return int64(3)
}

func layerPlayer() int64 {
	return layerPlayer_impl(struct{}{}).(int64)
}

func colorWhite_impl(_unused0 interface{}) interface{} {
	return int64(4294967295)
}

func colorWhite() int64 {
	return colorWhite_impl(struct{}{}).(int64)
}

func screenOffsetX_impl(_unused0 interface{}) interface{} {
	return float64(640)
}

func screenOffsetX() float64 {
	return screenOffsetX_impl(struct{}{}).(float64)
}

func screenOffsetY_impl(_unused0 interface{}) interface{} {
	return float64(350)
}

func screenOffsetY() float64 {
	return screenOffsetY_impl(struct{}{}).(float64)
}

func renderTileAt_impl(worldX interface{}, worldY interface{}, camX interface{}, camY interface{}, sid interface{}) interface{} {
	var relX interface{} = SubInt(worldX, camX)
	_ = relX // suppress unused
	var relY interface{} = SubInt(worldY, camY)
	_ = relY // suppress unused
	var isoX interface{} = func() interface{} {
		var tmp84 interface{} = SubInt(relX, relY)
		_ = tmp84 // suppress unused
		return func() interface{} {
			var tmp85 interface{} = MulInt(tmp84, int64(32))
			_ = tmp85 // suppress unused
			return IntToFloat(tmp85)
		}()
	}()
	_ = isoX // suppress unused
	var isoY interface{} = func() interface{} {
		var tmp82 interface{} = AddInt(relX, relY)
		_ = tmp82 // suppress unused
		return func() interface{} {
			var tmp83 interface{} = MulInt(tmp82, int64(16))
			_ = tmp83 // suppress unused
			return IntToFloat(tmp83)
		}()
	}()
	_ = isoY // suppress unused
	var screenX interface{} = func() interface{} {
		var tmp81 interface{} = screenOffsetX_impl(struct{}{})
		_ = tmp81 // suppress unused
		return AddFloat(isoX, tmp81)
	}()
	_ = screenX // suppress unused
	var screenY interface{} = func() interface{} {
		var tmp80 interface{} = screenOffsetY_impl(struct{}{})
		_ = tmp80 // suppress unused
		return AddFloat(isoY, tmp80)
	}()
	_ = screenY // suppress unused
	var tmp79 interface{} = layerFloor_impl(struct{}{})
	_ = tmp79 // suppress unused
	return NewDrawCmdSprite(sid.(int64), screenX.(float64), screenY.(float64), tmp79.(int64))
}

func renderTileAt(worldX int64, worldY int64, camX int64, camY int64, sid int64) *DrawCmd {
	return renderTileAt_impl(worldX, worldY, camX, camY, sid).(*DrawCmd)
}

func renderFloorRowViewportRec_impl(state interface{}, x interface{}, y interface{}, maxX interface{}, acc interface{}) interface{} {
	var tmp86 interface{} = GtInt(x, maxX)
	_ = tmp86 // suppress unused
	return func() interface{} {
		if tmp86.(bool) {
			return acc
		}
		return func() interface{} {
			var tmp87 interface{} = AddInt(x, int64(1))
			_ = tmp87 // suppress unused
			return func() interface{} {
				var tmp88 interface{} = FieldGet(state, "cameraX")
				_ = tmp88 // suppress unused
				return func() interface{} {
					var tmp89 interface{} = FieldGet(state, "cameraY")
					_ = tmp89 // suppress unused
					return func() interface{} {
						var tmp90 interface{} = FieldGet(state, "discCenterX")
						_ = tmp90 // suppress unused
						return func() interface{} {
							var tmp91 interface{} = FieldGet(state, "discCenterY")
							_ = tmp91 // suppress unused
							return func() interface{} {
								var tmp92 interface{} = FieldGet(state, "discRadius")
								_ = tmp92 // suppress unused
								return func() interface{} {
									var tmp93 interface{} = getTileType_impl(x, y, tmp90, tmp91, tmp92)
									_ = tmp93 // suppress unused
									return func() interface{} {
										var tmp94 interface{} = renderTileAt_impl(x, y, tmp88, tmp89, tmp93)
										_ = tmp94 // suppress unused
										return func() interface{} {
											var tmp95 interface{} = Cons(tmp94, acc)
											_ = tmp95 // suppress unused
											return renderFloorRowViewportRec_impl(state, tmp87, y, maxX, tmp95)
										}()
									}()
								}()
							}()
						}()
					}()
				}()
			}()
		}()
	}()
}

func renderFloorRowViewportRec(state *BridgeState, x int64, y int64, maxX int64, acc []*DrawCmd) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderFloorRowViewportRec_impl(state, x, y, maxX, acc))
}

func renderFloorRowViewport_impl(state interface{}, x interface{}, y interface{}, maxX interface{}) interface{} {
	var tmp96 interface{} = []interface{}{}
	_ = tmp96 // suppress unused
	return renderFloorRowViewportRec_impl(state, x, y, maxX, tmp96)
}

func renderFloorRowViewport(state *BridgeState, x int64, y int64, maxX int64) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderFloorRowViewport_impl(state, x, y, maxX))
}

func renderFloorRowsViewport_impl(state interface{}, y interface{}, maxY interface{}, minX interface{}, maxX interface{}) interface{} {
	var tmp97 interface{} = GtInt(y, maxY)
	_ = tmp97 // suppress unused
	return func() interface{} {
		if tmp97.(bool) {
			return []interface{}{}
		}
		return func() interface{} {
			var tmp98 interface{} = renderFloorRowViewport_impl(state, minX, y, maxX)
			_ = tmp98 // suppress unused
			return func() interface{} {
				var tmp99 interface{} = AddInt(y, int64(1))
				_ = tmp99 // suppress unused
				return func() interface{} {
					var tmp100 interface{} = renderFloorRowsViewport_impl(state, tmp99, maxY, minX, maxX)
					_ = tmp100 // suppress unused
					return Concat(tmp98, tmp100)
				}()
			}()
		}()
	}()
}

func renderFloorRowsViewport(state *BridgeState, y int64, maxY int64, minX int64, maxX int64) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderFloorRowsViewport_impl(state, y, maxY, minX, maxX))
}

func renderBridgeFloor_impl(state interface{}) interface{} {
	var vp interface{} = viewportSize_impl(struct{}{})
	_ = vp // suppress unused
	var minX interface{} = func() interface{} {
		var tmp104 interface{} = FieldGet(state, "cameraX")
		_ = tmp104 // suppress unused
		return SubInt(tmp104, vp)
	}()
	_ = minX // suppress unused
	var maxX interface{} = func() interface{} {
		var tmp103 interface{} = FieldGet(state, "cameraX")
		_ = tmp103 // suppress unused
		return AddInt(tmp103, vp)
	}()
	_ = maxX // suppress unused
	var minY interface{} = func() interface{} {
		var tmp102 interface{} = FieldGet(state, "cameraY")
		_ = tmp102 // suppress unused
		return SubInt(tmp102, vp)
	}()
	_ = minY // suppress unused
	var maxY interface{} = func() interface{} {
		var tmp101 interface{} = FieldGet(state, "cameraY")
		_ = tmp101 // suppress unused
		return AddInt(tmp101, vp)
	}()
	_ = maxY // suppress unused
	return renderFloorRowsViewport_impl(state, minY, maxY, minX, maxX)
}

func RenderBridgeFloor(state *BridgeState) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderBridgeFloor_impl(state))
}

func inViewport_impl(wx interface{}, wy interface{}, camX interface{}, camY interface{}) interface{} {
	var vp interface{} = viewportSize_impl(struct{}{})
	_ = vp // suppress unused
	var dx interface{} = SubInt(wx, camX)
	_ = dx // suppress unused
	var dy interface{} = SubInt(wy, camY)
	_ = dy // suppress unused
	var tmp105 interface{} = SubInt(int64(0), vp)
	_ = tmp105 // suppress unused
	var tmp106 interface{} = SubInt(tmp105, int64(2))
	_ = tmp106 // suppress unused
	var tmp107 interface{} = GeInt(dx, tmp106)
	_ = tmp107 // suppress unused
	var tmp108 interface{} = AddInt(vp, int64(2))
	_ = tmp108 // suppress unused
	var tmp109 interface{} = LeInt(dx, tmp108)
	_ = tmp109 // suppress unused
	var tmp110 interface{} = func() interface{} {
		if tmp107.(bool) {
			return tmp109
		}
		return false
	}()
	_ = tmp110 // suppress unused
	var tmp111 interface{} = SubInt(int64(0), vp)
	_ = tmp111 // suppress unused
	var tmp112 interface{} = SubInt(tmp111, int64(2))
	_ = tmp112 // suppress unused
	var tmp113 interface{} = GeInt(dy, tmp112)
	_ = tmp113 // suppress unused
	var tmp114 interface{} = func() interface{} {
		if tmp110.(bool) {
			return tmp113
		}
		return false
	}()
	_ = tmp114 // suppress unused
	var tmp115 interface{} = AddInt(vp, int64(2))
	_ = tmp115 // suppress unused
	var tmp116 interface{} = LeInt(dy, tmp115)
	_ = tmp116 // suppress unused
	return func() interface{} {
		if tmp114.(bool) {
			return tmp116
		}
		return false
	}()
}

func inViewport(wx int64, wy int64, camX int64, camY int64) bool {
	return inViewport_impl(wx, wy, camX, camY).(bool)
}

func renderConsole_impl(console interface{}, camX interface{}, camY interface{}) interface{} {
	var relX interface{} = func() interface{} {
		var tmp127 interface{} = FieldGet(console, "pos")
		_ = tmp127 // suppress unused
		return func() interface{} {
			var tmp128 interface{} = FieldGet(tmp127, "x")
			_ = tmp128 // suppress unused
			return SubInt(tmp128, camX)
		}()
	}()
	_ = relX // suppress unused
	var relY interface{} = func() interface{} {
		var tmp125 interface{} = FieldGet(console, "pos")
		_ = tmp125 // suppress unused
		return func() interface{} {
			var tmp126 interface{} = FieldGet(tmp125, "y")
			_ = tmp126 // suppress unused
			return SubInt(tmp126, camY)
		}()
	}()
	_ = relY // suppress unused
	var isoX interface{} = func() interface{} {
		var tmp123 interface{} = SubInt(relX, relY)
		_ = tmp123 // suppress unused
		return func() interface{} {
			var tmp124 interface{} = MulInt(tmp123, int64(32))
			_ = tmp124 // suppress unused
			return IntToFloat(tmp124)
		}()
	}()
	_ = isoX // suppress unused
	var isoY interface{} = func() interface{} {
		var tmp121 interface{} = AddInt(relX, relY)
		_ = tmp121 // suppress unused
		return func() interface{} {
			var tmp122 interface{} = MulInt(tmp121, int64(16))
			_ = tmp122 // suppress unused
			return IntToFloat(tmp122)
		}()
	}()
	_ = isoY // suppress unused
	var screenX interface{} = func() interface{} {
		var tmp120 interface{} = screenOffsetX_impl(struct{}{})
		_ = tmp120 // suppress unused
		return AddFloat(isoX, tmp120)
	}()
	_ = screenX // suppress unused
	var screenY interface{} = func() interface{} {
		var tmp119 interface{} = screenOffsetY_impl(struct{}{})
		_ = tmp119 // suppress unused
		return AddFloat(isoY, tmp119)
	}()
	_ = screenY // suppress unused
	var tmp117 interface{} = FieldGet(console, "spriteId")
	_ = tmp117 // suppress unused
	var tmp118 interface{} = layerConsoles_impl(struct{}{})
	_ = tmp118 // suppress unused
	return NewDrawCmdSprite(tmp117.(int64), screenX.(float64), screenY.(float64), tmp118.(int64))
}

func renderConsole(console *ConsoleState, camX int64, camY int64) *DrawCmd {
	return renderConsole_impl(console, camX, camY).(*DrawCmd)
}

func renderConsolesRec_impl(consoles interface{}, camX interface{}, camY interface{}) interface{} {
	return func() interface{} {
		_scrutinee := consoles
		_ = _scrutinee // suppress unused
		if ListLen(_scrutinee) == 0 {
			return []interface{}{}
		} else if ListLen(_scrutinee) >= 1 {
			c := ListHead(_scrutinee)
			_ = c // suppress unused
			rest := ListTail(_scrutinee)
			_ = rest // suppress unused
			return func() interface{} {
				var tmp129 interface{} = FieldGet(c, "pos")
				_ = tmp129 // suppress unused
				return func() interface{} {
					var tmp130 interface{} = FieldGet(tmp129, "x")
					_ = tmp130 // suppress unused
					return func() interface{} {
						var tmp131 interface{} = FieldGet(c, "pos")
						_ = tmp131 // suppress unused
						return func() interface{} {
							var tmp132 interface{} = FieldGet(tmp131, "y")
							_ = tmp132 // suppress unused
							return func() interface{} {
								var tmp133 interface{} = inViewport_impl(tmp130, tmp132, camX, camY)
								_ = tmp133 // suppress unused
								return func() interface{} {
									if tmp133.(bool) {
										return func() interface{} {
											var tmp134 interface{} = renderConsole_impl(c, camX, camY)
											_ = tmp134 // suppress unused
											return func() interface{} {
												var tmp135 interface{} = renderConsolesRec_impl(rest, camX, camY)
												_ = tmp135 // suppress unused
												return Cons(tmp134, tmp135)
											}()
										}()
									}
									return renderConsolesRec_impl(rest, camX, camY)
								}()
							}()
						}()
					}()
				}()
			}()
		} else {
			panic("non-exhaustive match")
		}
	}()
}

func renderConsolesRec(consoles []*ConsoleState, camX int64, camY int64) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderConsolesRec_impl(consoles, camX, camY))
}

func renderConsoles_impl(state interface{}) interface{} {
	var tmp136 interface{} = FieldGet(state, "consoles")
	_ = tmp136 // suppress unused
	var tmp137 interface{} = FieldGet(state, "cameraX")
	_ = tmp137 // suppress unused
	var tmp138 interface{} = FieldGet(state, "cameraY")
	_ = tmp138 // suppress unused
	return renderConsolesRec_impl(tmp136, tmp137, tmp138)
}

func RenderConsoles(state *BridgeState) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderConsoles_impl(state))
}

func renderCrewMember_impl(crew interface{}, camX interface{}, camY interface{}) interface{} {
	var relX interface{} = func() interface{} {
		var tmp150 interface{} = FieldGet(crew, "pos")
		_ = tmp150 // suppress unused
		return func() interface{} {
			var tmp151 interface{} = FieldGet(tmp150, "x")
			_ = tmp151 // suppress unused
			return SubInt(tmp151, camX)
		}()
	}()
	_ = relX // suppress unused
	var relY interface{} = func() interface{} {
		var tmp148 interface{} = FieldGet(crew, "pos")
		_ = tmp148 // suppress unused
		return func() interface{} {
			var tmp149 interface{} = FieldGet(tmp148, "y")
			_ = tmp149 // suppress unused
			return SubInt(tmp149, camY)
		}()
	}()
	_ = relY // suppress unused
	var isoX interface{} = func() interface{} {
		var tmp146 interface{} = SubInt(relX, relY)
		_ = tmp146 // suppress unused
		return func() interface{} {
			var tmp147 interface{} = MulInt(tmp146, int64(32))
			_ = tmp147 // suppress unused
			return IntToFloat(tmp147)
		}()
	}()
	_ = isoX // suppress unused
	var isoY interface{} = func() interface{} {
		var tmp144 interface{} = AddInt(relX, relY)
		_ = tmp144 // suppress unused
		return func() interface{} {
			var tmp145 interface{} = MulInt(tmp144, int64(16))
			_ = tmp145 // suppress unused
			return IntToFloat(tmp145)
		}()
	}()
	_ = isoY // suppress unused
	var screenX interface{} = func() interface{} {
		var tmp143 interface{} = screenOffsetX_impl(struct{}{})
		_ = tmp143 // suppress unused
		return AddFloat(isoX, tmp143)
	}()
	_ = screenX // suppress unused
	var screenY interface{} = func() interface{} {
		var tmp142 interface{} = screenOffsetY_impl(struct{}{})
		_ = tmp142 // suppress unused
		return AddFloat(isoY, tmp142)
	}()
	_ = screenY // suppress unused
	var tmp139 interface{} = FieldGet(crew, "station")
	_ = tmp139 // suppress unused
	var tmp140 interface{} = crewSprite_impl(tmp139)
	_ = tmp140 // suppress unused
	var tmp141 interface{} = layerCrew_impl(struct{}{})
	_ = tmp141 // suppress unused
	return NewDrawCmdSprite(tmp140.(int64), screenX.(float64), screenY.(float64), tmp141.(int64))
}

func renderCrewMember(crew *CrewPosition, camX int64, camY int64) *DrawCmd {
	return renderCrewMember_impl(crew, camX, camY).(*DrawCmd)
}

func renderCrewRec_impl(crew interface{}, camX interface{}, camY interface{}) interface{} {
	return func() interface{} {
		_scrutinee := crew
		_ = _scrutinee // suppress unused
		if ListLen(_scrutinee) == 0 {
			return []interface{}{}
		} else if ListLen(_scrutinee) >= 1 {
			c := ListHead(_scrutinee)
			_ = c // suppress unused
			rest := ListTail(_scrutinee)
			_ = rest // suppress unused
			return func() interface{} {
				var tmp152 interface{} = FieldGet(c, "pos")
				_ = tmp152 // suppress unused
				return func() interface{} {
					var tmp153 interface{} = FieldGet(tmp152, "x")
					_ = tmp153 // suppress unused
					return func() interface{} {
						var tmp154 interface{} = FieldGet(c, "pos")
						_ = tmp154 // suppress unused
						return func() interface{} {
							var tmp155 interface{} = FieldGet(tmp154, "y")
							_ = tmp155 // suppress unused
							return func() interface{} {
								var tmp156 interface{} = inViewport_impl(tmp153, tmp155, camX, camY)
								_ = tmp156 // suppress unused
								return func() interface{} {
									if tmp156.(bool) {
										return func() interface{} {
											var tmp157 interface{} = renderCrewMember_impl(c, camX, camY)
											_ = tmp157 // suppress unused
											return func() interface{} {
												var tmp158 interface{} = renderCrewRec_impl(rest, camX, camY)
												_ = tmp158 // suppress unused
												return Cons(tmp157, tmp158)
											}()
										}()
									}
									return renderCrewRec_impl(rest, camX, camY)
								}()
							}()
						}()
					}()
				}()
			}()
		} else {
			panic("non-exhaustive match")
		}
	}()
}

func renderCrewRec(crew []*CrewPosition, camX int64, camY int64) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderCrewRec_impl(crew, camX, camY))
}

func renderBridgeCrew_impl(state interface{}) interface{} {
	var tmp159 interface{} = FieldGet(state, "crewPositions")
	_ = tmp159 // suppress unused
	var tmp160 interface{} = FieldGet(state, "cameraX")
	_ = tmp160 // suppress unused
	var tmp161 interface{} = FieldGet(state, "cameraY")
	_ = tmp161 // suppress unused
	return renderCrewRec_impl(tmp159, tmp160, tmp161)
}

func RenderBridgeCrew(state *BridgeState) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderBridgeCrew_impl(state))
}

func renderPlayer_impl(state interface{}) interface{} {
	var relX interface{} = func() interface{} {
		var tmp174 interface{} = FieldGet(state, "playerPos")
		_ = tmp174 // suppress unused
		return func() interface{} {
			var tmp175 interface{} = FieldGet(tmp174, "x")
			_ = tmp175 // suppress unused
			return func() interface{} {
				var tmp176 interface{} = FieldGet(state, "cameraX")
				_ = tmp176 // suppress unused
				return SubInt(tmp175, tmp176)
			}()
		}()
	}()
	_ = relX // suppress unused
	var relY interface{} = func() interface{} {
		var tmp171 interface{} = FieldGet(state, "playerPos")
		_ = tmp171 // suppress unused
		return func() interface{} {
			var tmp172 interface{} = FieldGet(tmp171, "y")
			_ = tmp172 // suppress unused
			return func() interface{} {
				var tmp173 interface{} = FieldGet(state, "cameraY")
				_ = tmp173 // suppress unused
				return SubInt(tmp172, tmp173)
			}()
		}()
	}()
	_ = relY // suppress unused
	var isoX interface{} = func() interface{} {
		var tmp169 interface{} = SubInt(relX, relY)
		_ = tmp169 // suppress unused
		return func() interface{} {
			var tmp170 interface{} = MulInt(tmp169, int64(32))
			_ = tmp170 // suppress unused
			return IntToFloat(tmp170)
		}()
	}()
	_ = isoX // suppress unused
	var isoY interface{} = func() interface{} {
		var tmp167 interface{} = AddInt(relX, relY)
		_ = tmp167 // suppress unused
		return func() interface{} {
			var tmp168 interface{} = MulInt(tmp167, int64(16))
			_ = tmp168 // suppress unused
			return IntToFloat(tmp168)
		}()
	}()
	_ = isoY // suppress unused
	var screenX interface{} = func() interface{} {
		var tmp166 interface{} = screenOffsetX_impl(struct{}{})
		_ = tmp166 // suppress unused
		return AddFloat(isoX, tmp166)
	}()
	_ = screenX // suppress unused
	var screenY interface{} = func() interface{} {
		var tmp165 interface{} = screenOffsetY_impl(struct{}{})
		_ = tmp165 // suppress unused
		return AddFloat(isoY, tmp165)
	}()
	_ = screenY // suppress unused
	var tmp162 interface{} = spritePlayer_impl(struct{}{})
	_ = tmp162 // suppress unused
	var tmp163 interface{} = layerPlayer_impl(struct{}{})
	_ = tmp163 // suppress unused
	var tmp164 interface{} = NewDrawCmdSprite(tmp162.(int64), screenX.(float64), screenY.(float64), tmp163.(int64))
	_ = tmp164 // suppress unused
	return []interface{}{tmp164}
}

func RenderPlayer(state *BridgeState) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderPlayer_impl(state))
}

func renderBridge_impl(state interface{}) interface{} {
	var tmp177 interface{} = renderBridgeFloor_impl(state)
	_ = tmp177 // suppress unused
	var tmp178 interface{} = renderConsoles_impl(state)
	_ = tmp178 // suppress unused
	var tmp179 interface{} = Concat(tmp177, tmp178)
	_ = tmp179 // suppress unused
	var tmp180 interface{} = renderBridgeCrew_impl(state)
	_ = tmp180 // suppress unused
	var tmp181 interface{} = Concat(tmp179, tmp180)
	_ = tmp181 // suppress unused
	var tmp182 interface{} = renderPlayer_impl(state)
	_ = tmp182 // suppress unused
	return Concat(tmp181, tmp182)
}

func RenderBridge(state *BridgeState) []*DrawCmd {
	return ConvertToDrawCmdSlice(renderBridge_impl(state))
}

func getPatrolDirection_impl(crewId interface{}, frame interface{}) interface{} {
	var phase interface{} = func() interface{} {
		var tmp183 interface{} = DivInt(frame, int64(30))
		_ = tmp183 // suppress unused
		return func() interface{} {
			var tmp184 interface{} = MulInt(crewId, int64(7))
			_ = tmp184 // suppress unused
			return func() interface{} {
				var tmp185 interface{} = AddInt(tmp183, tmp184)
				_ = tmp185 // suppress unused
				return ModInt(tmp185, int64(4))
			}()
		}()
	}()
	_ = phase // suppress unused
	return func() interface{} {
		_scrutinee := phase
		_ = _scrutinee // suppress unused
		switch _scrutinee {
		case int64(0):
			return NewDirectionNorth()
		case int64(1):
			return NewDirectionEast()
		case int64(2):
			return NewDirectionSouth()
		default:
			return NewDirectionWest()
		}
	}()
}

func getPatrolDirection(crewId int64, frame int64) *Direction {
	return getPatrolDirection_impl(crewId, frame).(*Direction)
}

func tryMoveCrew_impl(crew interface{}, dir interface{}, state interface{}) interface{} {
	var newPos interface{} = func() interface{} {
		var tmp189 interface{} = FieldGet(crew, "pos")
		_ = tmp189 // suppress unused
		return moveInDirection_impl(tmp189, dir)
	}()
	_ = newPos // suppress unused
	var tmp186 interface{} = FieldGet(newPos, "x")
	_ = tmp186 // suppress unused
	var tmp187 interface{} = FieldGet(newPos, "y")
	_ = tmp187 // suppress unused
	var tmp188 interface{} = isWalkable_impl(state, tmp186, tmp187)
	_ = tmp188 // suppress unused
	return func() interface{} {
		if tmp188.(bool) {
			return RecordUpdate(crew, map[string]interface{}{"pos": newPos, "facing": dir})
		}
		return RecordUpdate(crew, map[string]interface{}{"facing": dir})
	}()
}

func tryMoveCrew(crew *CrewPosition, dir *Direction, state *BridgeState) *CrewPosition {
	return tryMoveCrew_impl(crew, dir, state).(*CrewPosition)
}

func updateCrewMember_impl(crew interface{}, frame interface{}, state interface{}) interface{} {
	var tmp190 interface{} = ModInt(frame, int64(30))
	_ = tmp190 // suppress unused
	var tmp191 interface{} = EqInt(tmp190, int64(0))
	_ = tmp191 // suppress unused
	return func() interface{} {
		if tmp191.(bool) {
			return func() interface{} {
				var tmp192 interface{} = FieldGet(crew, "crew")
				_ = tmp192 // suppress unused
				return func() interface{} {
					var tmp193 interface{} = FieldGet(tmp192, "id")
					_ = tmp193 // suppress unused
					return func() interface{} {
						var tmp194 interface{} = getPatrolDirection_impl(tmp193, frame)
						_ = tmp194 // suppress unused
						return tryMoveCrew_impl(crew, tmp194, state)
					}()
				}()
			}()
		}
		return crew
	}()
}

func updateCrewMember(crew *CrewPosition, frame int64, state *BridgeState) *CrewPosition {
	return updateCrewMember_impl(crew, frame, state).(*CrewPosition)
}

func updateCrewRec_impl(crew interface{}, frame interface{}, state interface{}) interface{} {
	return func() interface{} {
		_scrutinee := crew
		_ = _scrutinee // suppress unused
		if ListLen(_scrutinee) == 0 {
			return []interface{}{}
		} else if ListLen(_scrutinee) >= 1 {
			c := ListHead(_scrutinee)
			_ = c // suppress unused
			rest := ListTail(_scrutinee)
			_ = rest // suppress unused
			return func() interface{} {
				var tmp195 interface{} = updateCrewMember_impl(c, frame, state)
				_ = tmp195 // suppress unused
				return func() interface{} {
					var tmp196 interface{} = updateCrewRec_impl(rest, frame, state)
					_ = tmp196 // suppress unused
					return Cons(tmp195, tmp196)
				}()
			}()
		} else {
			panic("non-exhaustive match")
		}
	}()
}

func updateCrewRec(crew []*CrewPosition, frame int64, state *BridgeState) []*CrewPosition {
	return ConvertToCrewPositionSlice(updateCrewRec_impl(crew, frame, state))
}

func stepBridge_impl(state interface{}, frame interface{}) interface{} {
	var updatedCrew interface{} = func() interface{} {
		var tmp197 interface{} = FieldGet(state, "crewPositions")
		_ = tmp197 // suppress unused
		return updateCrewRec_impl(tmp197, frame, state)
	}()
	_ = updatedCrew // suppress unused
	return RecordUpdate(state, map[string]interface{}{"crewPositions": updatedCrew})
}

func StepBridge(state *BridgeState, frame int64) *BridgeState {
	return stepBridge_impl(state, frame).(*BridgeState)
}
